Android JNI编程实践
一、直接使用java本身jni接口（windows/ubuntu）
1.在Eclipsh中新建一个android应用程序。两个类：一个继承于Activity，UI显示用。另一个包含native方法。编译生成所有类。
jnitest.java文件：
```  
import android.app.Activity;
import android.os.Bundle;
public class jnitest extends Activity {
	 /** Called when the activity is first created. */
	@Override
	public void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.main);
		Nadd cal = new Nadd();
		setTitle("The Native Add Result is " + String.valueOf(cal.nadd(10, 19)));
	}
}
```
Nadd.java文件：
```  
public class Nadd {
	static {
		System.loadLibrary("Nadd");
	}
	public native int nadd(int a, int b);
}
```
2.使用javah命令生成C/C++的.h文件。注意类要包含包名，路径文件夹下要包含所有包中的类，否则会报找不到类的错误。classpath参数指定到包名前一级文件夹，文件夹层次结构要符合java类的组织层次结构。
```  
javah -classpath ../jnitest/bin com.hello.jnitest.Nadd
```
com_hello_jnitest_Nadd .h文件：
```  
/* DO NOT EDIT THIS FILE - it is machine generated */
include <jni.h>
/* Header for class com_hello_jnitest_Nadd */
ifndef _Included_com_hello_jnitest_Nadd
define _Included_com_hello_jnitest_Nadd
ifdef __cplusplus
extern "C" {
endif
/*
 * Class: com_hello_jnitest_Nadd
 * Method: nadd
 * Signature: (II)I
 */
JNIEXPORT jint JNICALL Java_com_hello_jnitest_Nadd_nadd
(JNIEnv *, jobject, jint, jint);
ifdef __cplusplus
}
endif
endif
```